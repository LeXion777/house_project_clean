{% extends 'layout.html' %}
{% block title %}ì§ˆë¬¸ ìƒì„¸ - AI ì˜ˆì¸¡ ì‹œìŠ¤í…œ{% endblock %}
{% block content %}
<h2 style="text-align:center; color:#3f51b5; margin-bottom:1.5rem;">ğŸ—¨ï¸ {{ question.subject }}</h2>

<!-- ì§ˆë¬¸ ë³¸ë¬¸ -->
<div style="background:#fff; border-radius:8px; box-shadow:0 0 5px rgba(0,0,0,0.1); padding:1.5rem; margin-bottom:2rem;">
    <p style="white-space:pre-line; font-size:1rem; line-height:1.6;">{{ question.content }}</p>
    <div style="text-align:right; color:#666; font-size:0.9rem; margin-top:1rem;">
        ì‘ì„±ì¼ì‹œ: {{ question.create_date }}
    </div>
</div>

<!-- ë‹µë³€ ëª©ë¡ -->
<h3 style="border-bottom:2px solid #3f51b5; padding-bottom:0.5rem; color:#3f51b5; margin-bottom:1rem;">
    ğŸ’¬ {{ question.answer_set|length }}ê°œì˜ ë‹µë³€
</h3>

{% if question.answer_set %}
    {% for answer in question.answer_set %}
    <div style="background:#fafafa; border-radius:8px; border:1px solid #ddd; padding:1rem; margin-bottom:1rem;">
        <p style="white-space:pre-line; margin-bottom:0.5rem;">{{ answer.content }}</p>
        <div style="text-align:right; color:#777; font-size:0.85rem;">
            {{ answer.create_date }}
        </div>
    </div>
    {% endfor %}
{% else %}
    <p style="color:#888;">ì•„ì§ ë“±ë¡ëœ ë‹µë³€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
{% endif %}

<!-- ë‹µë³€ ì‘ì„± í¼ -->
<h3 style="margin-top:2rem; color:#3f51b5;">âœï¸ ë‹µë³€ ì‘ì„±í•˜ê¸°</h3>

<form action="{{ url_for('inquiry.q_answer', question_id=question.id) }}" method="post" style="margin-top:1rem;">
    {{ form.csrf_token }}

    {% for field, errors in form.errors.items() %}
    <div style="background:#ffcdd2; color:#b71c1c; padding:10px; border-radius:6px; margin-bottom:10px;">
        <strong>{{ form[field].label }}</strong>: {{ ', '.join(errors) }}
    </div>
    {% endfor %}

    <div style="margin-bottom:1rem;">
        <textarea name="content" id="content" rows="8"
                  style="width:100%; padding:10px; border-radius:8px; border:1px solid #ccc; resize:vertical; font-family:'Noto Sans KR', sans-serif;"></textarea>
    </div>

    <div style="text-align:right;">
        <input type="submit" value="ë‹µë³€ ë“±ë¡"
               style="background-color:#3f51b5; color:white; padding:10px 20px; border:none; border-radius:6px; cursor:pointer;">
    </div>
</form>

{% endblock %}
